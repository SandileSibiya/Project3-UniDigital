<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Home</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;

    }

    body {
      background-image: url("https://raw.githubusercontent.com/SandileSibiya/Project3-UniDigital/main/UniversityDigitalCard/src/main/static/Images/BackImg2.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    header {
      font-weight: bold;
      margin-top: 10px;
      position: relative;
      width: 100%;
      text-align: center;
    }

    /* Hamburger button */
    .hamburger {
      color: black;
      position: absolute;
      top: 5px;
      left: 10px;
      font-size: 40px;
      cursor: pointer;
      border: none;
      background: none;
    }

    .logo {
      margin-top: 20px;
      width: 150px;
    }

    .welcome {
      margin-top: 20px;
      text-align: center;
      color: rgba(25, 104, 157, 100);
      font-size: 20px;
      font-weight: bold;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, 120px);
      gap: 20px;
      margin-top: 30px;
    }

    .btn {
      width: 120px;
      height: 100px;
      background-color: rgba(25, 104, 157, 0.15);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(25, 104, 157, 100);
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
      cursor: pointer;
      transition: 0.2s ease;
    }

    .btn:hover {
      box-shadow: 3px 3px 8px rgba(0,0,0,0.2);
      background-color: rgba(25, 104, 157, 0.15);
      backdrop-filter: blur(10px);
    }

    .btn img {
      width: 24px;
      margin-bottom: 10px;
    }

    .btn span {
      font-size: 14px;
      text-align: center;
    }

    .signout-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 25px;
      padding: 12px 18px;
      width: 80%;
      max-width: 300px;
      background-color: rgba(25, 104, 157, 0.15);
      color: black;
      border: 2px solid rgba(25, 104, 157, 100);
      backdrop-filter: blur(15px);
      border-radius: 15px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.3);
    }

    .signout-btn img {
      width: 22px;
      margin-right: 10px;
    }

    .signout-btn:hover {
      background-color: rgba(25, 104, 157, 0.25);
      color: red;
    }

    footer {
      margin-top: 20px;
      text-align: center;
      font-size: 10px;
      color: white;
    }

    /* Sidebar */
    .sidebar {
      position: fixed;
      top: 0;
      left: -280px;
      width: 250px;
      height: 100%;
      background-color: rgba(25, 104, 157, 100);
      backdrop-filter: blur(13px);
      box-shadow: 2px 0 5px rgba(0,0,0,0.5);
      padding: 20px;
      transition: left 0.3s ease;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .sidebar.active { left: 0; }

    .sidebar .user-info {
      text-align: center;
      margin-bottom: 20px;
      font-weight: bold;
      color: black;
    }

    .sidebar .user-info .student-id {
      display: block;
      font-size: 15px;
      font-weight: normal;
      color: white;
      cursor: pointer;
      margin-top: 4px;
    }

    .sidebar .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 22px;
      cursor: pointer;
      border: none;
      background: none;
    }

    .sidebar .menu-header {
      font-size: 18px;
      font-weight: bold;
      margin: 15px 0 10px;
      color: white;
    }

    .sidebar .menu-item {
      display: flex;
      align-items: center;
      padding: 10px 5px;
      cursor: pointer;
      border-radius: 8px;
      transition: background 0.2s;
    }

    .sidebar .menu-item:hover { background-color: #f0f0f0; }

    .sidebar .menu-item img { width: 22px; margin-right: 10px; }

    .sidebar-bottom { margin-top: auto; }

    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.3);
      display: none;
      z-index: 900;
    }

    .overlay.active { display: block; }

    /*  Popup Modal Styles */
    .popup-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }

    .popup {
      background: rgba(25, 104, 157, 0.2);
      border: 2px solid rgba(25, 104, 157, 1);
      backdrop-filter: blur(5px);
      border-radius: 15px;
      padding: 30px;
      text-align: center;
      color: white;
      width: 280px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      animation: fadeIn 0.3s ease-in-out;
    }

    .popup h3 { margin: 0 0 10px; color: white; }
    .popup p { margin: 0 0 20px; font-size: 14px; }

    .popup-buttons {
      display: flex;
      justify-content: space-around;
    }

    .popup button {
      background-color: #2674a8;
      color: white;
      border: none;
      border-radius: 50px;
      padding: 8px 20px;
      cursor: pointer;
      font-size: 14px;
    }

    .popup button:hover { background-color: #0e4265; }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>

<body>
<header>
  <button class="hamburger">&#9776;</button>
  HOME
</header>

<img src="https://vectorseek.com/wp-content/uploads/2023/08/Cput-Logo-Vector.svg-.png" alt="CPUT Logo" class="logo" />

<div id="studentInfo"></div>

<div class="grid">
  <div class="btn"><img src="https://img.icons8.com/ios-filled/50/speech-bubble--v1.png"><span>CARDS</span></div>
  <div class="btn"><img src="https://img.icons8.com/ios-filled/50/appointment-reminders--v1.png"><span>NOTIFICATION</span></div>
  <div class="btn"><img src="https://img.icons8.com/ios-filled/50/user-male-circle.png"><span>PROFILE</span></div>
  <div class="btn"><img src="https://img.icons8.com/ios-filled/50/marker.png"><span>MAP</span></div>
  <div class="btn"><img src="https://img.icons8.com/ios-filled/50/edit-property.png"><span>REGISTER CARD</span></div>
  <div class="btn"><img src="https://img.icons8.com/ios-filled/50/info.png"><span>ABOUT</span></div>
</div>

<button class="signout-btn" onclick="confirmSignOut()">
  <img src="https://img.icons8.com/ios-filled/50/logout-rounded.png" alt="Sign Out">SIGN OUT
</button>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <div>
    <button class="close-btn">&times;</button>
    <div class="user-info" id="sidebarUser"></div>

    <div class="menu-header">Menu</div>
    <div class="menu-item"><img src="https://img.icons8.com/ios-filled/50/speech-bubble--v1.png"><span>CARDS</span></div>
    <div class="menu-item"><img src="https://img.icons8.com/ios-filled/50/appointment-reminders--v1.png"><span>NOTIFICATION</span></div>
    <div class="menu-item"><img src="https://img.icons8.com/ios-filled/50/user-male-circle.png"><span>PROFILE</span></div>
    <div class="menu-item"><img src="https://img.icons8.com/ios-filled/50/marker.png"><span>MAP</span></div>
    <div class="menu-item"><img src="https://img.icons8.com/ios-filled/50/edit-property.png"><span>REGISTER CARD</span></div>
    <div class="menu-item"><img src="https://img.icons8.com/ios-filled/50/info.png"><span>ABOUT</span></div>

    <div class="menu-header">Other Applications</div>
    <div class="menu-item" onclick="window.open('https://www.facebook.com')"><img src="https://img.icons8.com/ios-filled/50/facebook-new.png"><span>Facebook</span></div>
    <div class="menu-item" onclick="window.open('https://www.linkedin.com')"><img src="https://img.icons8.com/ios-filled/50/linkedin.png"><span>LinkedIn</span></div>
    <div class="menu-item" onclick="window.open('https://myclassroom.cput.ac.za')"><img src="https://img.icons8.com/ios-filled/50/graduation-cap.png"><span>Blackboard</span></div>
    <div class="menu-item" onclick="window.open('https://opa.cput.ac.za')"><img src="https://img.icons8.com/ios-filled/50/combo-chart.png"><span>CPUT OPA</span></div>
    <div class="menu-item" onclick="window.open('https://www.cput.ac.za/student/quick-links/student-online-services')"><img src="https://img.icons8.com/ios-filled/50/student-male.png"><span>CPUT SOS</span></div>
  </div>

  <div class="sidebar-bottom">
    <div class="menu-item" onclick="confirmSignOut()">
      <img src="https://img.icons8.com/ios-filled/50/logout-rounded.png"><span>SIGN OUT</span>
    </div>
  </div>
</div>

<div class="overlay" id="overlay"></div>

<!-- Popup Modal -->
<div class="popup-overlay" id="popupOverlay">
  <div class="popup">
    <h3>Confirm Sign Out</h3>
    <p>Are you sure you want to sign out?</p>
    <div class="popup-buttons">
      <button id="confirmBtn">Yes</button>
      <button id="cancelBtn">Cancel</button>
    </div>
  </div>
</div>

<footer>
  © 2025 UniDigital • Cape Peninsula University of Technology<br/>
  Need Help? Contact unidigital.support@mycput.ac.za<br/>
  (021) 324-56789
</footer>

<script>
  const userData = JSON.parse(sessionStorage.getItem('currentUser'));
  if (userData) {
    document.getElementById('studentInfo').innerHTML = `<div class="welcome">HI, ${userData.firstName.toUpperCase()} <br>WELCOME</div>`;
    document.getElementById('sidebarUser').innerHTML = `${userData.firstName.toUpperCase()} ${userData.surname.toUpperCase()}<br><span class="student-id">${userData.studentId}</span>`;
  } else {
    window.location.href = 'Login.html';
  }

  // Sidebar toggle
  const hamburger = document.querySelector('.hamburger');
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('overlay');
  const closeBtn = document.querySelector('.close-btn');

  hamburger.addEventListener('click', () => { sidebar.classList.add('active'); overlay.classList.add('active'); });
  closeBtn.addEventListener('click', () => { sidebar.classList.remove('active'); overlay.classList.remove('active'); });
  overlay.addEventListener('click', () => { sidebar.classList.remove('active'); overlay.classList.remove('active'); });

  // Grid buttons
  document.querySelectorAll('.btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const action = btn.querySelector('span').textContent.trim().toLowerCase();
      handleAction(action);
    });
  });

  // Sidebar menu actions
  document.querySelectorAll('.sidebar .menu-item').forEach(item => {
    item.addEventListener('click', () => {
      const action = item.querySelector('span').textContent.trim().toLowerCase();
      if (['sign out','map','register card','profile','cards','notification','about'].includes(action)) handleAction(action);
    });
  });

  // 🔹 Handle popup for sign out
  const popupOverlay = document.getElementById("popupOverlay");
  const confirmBtn = document.getElementById("confirmBtn");
  const cancelBtn = document.getElementById("cancelBtn");

  function confirmSignOut() {
    popupOverlay.style.display = "flex";
  }

  cancelBtn.addEventListener("click", () => {
    popupOverlay.style.display = "none";
  });

  confirmBtn.addEventListener("click", () => {
    sessionStorage.removeItem("currentUser");
    window.location.href = "LogIn.html";
  });

  // 🔹 Navigation handler
  function handleAction(action) {
    switch (action) {
      case 'sign out': confirmSignOut(); break;
      case 'map': window.location.href = 'CampusMap.html'; break;
      case 'register card': window.location.href = 'RegisterCard.html'; break;
      case 'profile': window.location.href = 'Profile.html'; break;
      case 'cards': window.location.href = 'Card.html'; break;
      case 'notification': window.location.href = 'Notification.html'; break;
      case 'about': window.location.href = 'About.html'; break;
    }
  }
</script>
</body>
</html>
